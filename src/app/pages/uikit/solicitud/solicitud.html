<div class="p-5">
  <div class="card p-5">
    <div class="text-2xl font-semibold mb-4 text-center">Formulario de Solicitud de Baja</div>
    
    <form [formGroup]="solicitudForm" (ngSubmit)="generarPDF()">
      
      <h2 class="text-xl font-semibold mb-4 mt-6">Datos Generales</h2>
      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8">
        <div class="field">
          <label for="tipo" class="block font-medium mb-2">Tipo de Solicitud</label>
          <select id="tipo" formControlName="tipo" class="w-full p-inputtext p-component">
            <option value="" disabled selected>Seleccione una opción</option>
            <option *ngFor="let tipo of tiposSolicitud" [value]="tipo.value">{{ tipo.label }}</option>
          </select>
        </div>
        <div class="field">
          <label for="fechaSolicitud" class="block font-medium mb-2">Fecha de Solicitud</label>
          <input id="fechaSolicitud" type="text" pInputText formControlName="fechaSolicitud">
        </div>
        <div class="field">
          <label for="nombre" class="block font-medium mb-2">Nombre Completo / Razón Social</label>
          <input id="nombre" type="text" pInputText formControlName="nombre">
        </div>
        <div class="field">
          <label for="ci_nit" class="block font-medium mb-2">C.I. / NIT</label>
          <input id="ci_nit" type="text" pInputText formControlName="ci_nit">
        </div>
        <div class="field">
          <label for="telefonoContacto" class="block font-medium mb-2">Teléfono de Contacto</label>
          <input id="telefonoContacto" type="text" pInputText formControlName="telefonoContacto">
        </div>
        <div class="field">
          <label for="correoContacto" class="block font-medium mb-2">Correo de Contacto</label>
          <input id="correoContacto" type="text" pInputText formControlName="correoContacto">
        </div>
      </div>

      <ng-container *ngIf="solicitudForm.get('tipo')?.value === 'trabajador'">
        <h2 class="text-xl font-semibold mb-4 mt-6">Datos de Baja del Trabajador</h2>
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8">
          <div class="field">
            <label for="cargo" class="block font-medium mb-2">Cargo / Puesto</label>
            <input id="cargo" type="text" pInputText formControlName="cargo">
          </div>
          <div class="field">
            <label for="areaDepartamento" class="block font-medium mb-2">Área / Departamento</label>
            <input id="areaDepartamento" type="text" pInputText formControlName="areaDepartamento">
          </div>
          <div class="field">
            <label for="fechaIngreso" class="block font-medium mb-2">Fecha de Ingreso</label>
            <input id="fechaIngreso" type="text" pInputText formControlName="fechaIngreso">
          </div>
          <div class="field">
            <label for="fechaBaja" class="block font-medium mb-2">Fecha de Baja</label>
            <input id="fechaBaja" type="text" pInputText formControlName="fechaBaja">
          </div>
          <div class="field">
            <label for="tipoBaja" class="block font-medium mb-2">Tipo de Baja</label>
            <input id="tipoBaja" type="text" pInputText formControlName="tipoBaja">
          </div>
        </div>
      </ng-container>

      <ng-container *ngIf="solicitudForm.get('tipo')?.value === 'empresa'">
        <h2 class="text-xl font-semibold mb-4 mt-6">Datos de Baja de la Empresa</h2>
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8">
          <div class="field">
            <label for="actividadEconomica" class="block font-medium mb-2">Actividad Económica</label>
            <input id="actividadEconomica" type="text" pInputText formControlName="actividadEconomica">
          </div>
          <div class="field">
            <label for="numeroRegistroPatronal" class="block font-medium mb-2">Número de Registro Patronal</label>
            <input id="numeroRegistroPatronal" type="text" pInputText formControlName="numeroRegistroPatronal">
          </div>
          <div class="field">
            <label for="representanteLegal" class="block font-medium mb-2">Representante Legal</label>
            <input id="representanteLegal" type="text" pInputText formControlName="representanteLegal">
          </div>
          <div class="field">
            <label for="ciRepresentante" class="block font-medium mb-2">C.I. Representante</label>
            <input id="ciRepresentante" type="text" pInputText formControlName="ciRepresentante">
          </div>
          <div class="field col-span-12">
            <label for="direccionEmpresa" class="block font-medium mb-2">Dirección de la Empresa</label>
            <input id="direccionEmpresa" type="text" pInputText formControlName="direccionEmpresa">
          </div>
          <div class="field">
            <label for="fechaCeseActividades" class="block font-medium mb-2">Fecha de Cese de Actividades</label>
            <input id="fechaCeseActividades" type="text" pInputText formControlName="fechaCeseActividades">
          </div>
        </div>
      </ng-container>

      <h2 class="text-xl font-semibold mb-4 mt-6">Observaciones y Documentación</h2>
      <div class="grid grid-cols-1 gap-6 mb-8">
        <div class="field">
          <label for="motivo" class="block font-medium mb-2">Motivo de la Solicitud</label>
          <textarea id="motivo" pInputTextarea formControlName="motivo" rows="5"></textarea>
        </div>
        <div class="field">
          <label for="observaciones" class="block font-medium mb-2">Observaciones Adicionales</label>
          <textarea id="observaciones" pInputTextarea formControlName="observaciones" rows="5"></textarea>
        </div>
        <div class="field">
          <label class="block font-medium mb-2">Adjuntar Documentación</label>
          <p-fileUpload name="adjuntos" customUpload="true" (uploadHandler)="onUpload($event)" accept=".pdf,.doc,.docx" maxFileSize="1000000" chooseLabel="Subir Archivos"></p-fileUpload>
        </div>
      </div>
      <p-dialog header="Solicitud Enviada" [(visible)]="mostrarDialogo" [modal]="true" [style]="{ width: '400px' }" [baseZIndex]="10000"
  [draggable]="false" [resizable]="false">
  <div class="text-center">
    <i class="pi pi-check-circle text-6xl text-green-500 mb-4"></i>
    <p>La solicitud ha sido enviada exitosamente.</p>
    <p class="font-bold">¿Desea generar el PDF de autorización?</p>
  </div>
  <ng-template pTemplate="footer">
    <p-button label="No" icon="pi pi-times" (click)="mostrarDialogo = false" styleClass="p-button-text"></p-button>
    <p-button label="Generar PDF" icon="pi pi-file-pdf" (click)="generarPDF()">d</p-button>
  </ng-template>
</p-dialog>

      <div class="flex justify-content-end">
        <p-button label="Generar PDF" icon="pi pi-file-pdf" type="submit"></p-button>
      </div>
      
    </form>
  </div>
</div>  