<div class="p-5">
   
    
    <p-panel header="Documentos para RevisiÃ³n" styleClass="shadow-2">
        <p-table #dt [value]="documentos" [rows]="10" [loading]="loading" [rowHover]="true" [showGridlines]="true" [paginator]="true"
                 [globalFilterFields]="['nombre', 'tipo', 'propietario', 'estado']" responsiveLayout="scroll">
            <ng-template pTemplate="caption">
                <div class="flex justify-content-end">
                    <p-iconfield iconPosition="left">
                        <p-inputicon>
                            <i class="pi pi-search"></i>
                        </p-inputicon>
                        <input pInputText type="text" (input)="onGlobalFilter(dt, $event)" placeholder="Buscar..." />
                    </p-iconfield>
                </div>
            </ng-template>
            <ng-template pTemplate="header">
                <tr>
                    <th pSortableColumn="nombre">Nombre <p-sortIcon field="nombre"></p-sortIcon></th>
                    <th pSortableColumn="tipo">Tipo <p-sortIcon field="tipo"></p-sortIcon></th>
                    <th pSortableColumn="propietario">Propietario <p-sortIcon field="propietario"></p-sortIcon></th>
                    <th pSortableColumn="fechaSubida">Fecha de Subida <p-sortIcon field="fechaSubida"></p-sortIcon></th>
                    <th pSortableColumn="estado">Estado <p-sortIcon field="estado"></p-sortIcon></th>
                    <th class="w-10rem">Acciones</th>
                </tr>
            </ng-template>
            <ng-template pTemplate="body" let-doc>
                <tr>
                    <td>{{ doc.nombre }}</td>
                    <td><p-tag [value]="doc.tipo" [severity]="doc.tipo === 'Empresa' ? 'info' : 'secondary'"></p-tag></td>
                    <td>{{ doc.propietario }}</td>
                    <td>{{ doc.fechaSubida | date: 'dd/MM/yyyy' }}</td>
                    <td><p-tag [value]="doc.estado" [severity]="getSeverity(doc.estado)"></p-tag></td>
                    <td>
                        <p-button icon="pi pi-folder-open" class="p-button-outlined p-button-sm mr-2" pTooltip="Revisar" (click)="revisarDocumento(doc)"></p-button>
                        <p-button icon="pi pi-check" severity="success" class="p-button-sm mr-2" pTooltip="Aprobar" (click)="aprobarDocumento(doc)"></p-button>
                        <p-button icon="pi pi-times" severity="danger" class="p-button-sm" pTooltip="Rechazar" (click)="rechazarDocumento(doc)"></p-button>
                    </td>
                </tr>
            </ng-template>
            <ng-template pTemplate="emptymessage">
                <tr>
                    <td colspan="6">No se encontraron documentos.</td>
                </tr>
            </ng-template>
            <ng-template pTemplate="loadingbody">
                <tr>
                    <td colspan="6">Cargando documentos. Por favor espere.</td>
                </tr>
            </ng-template>
        </p-table>
    </p-panel>
</div>